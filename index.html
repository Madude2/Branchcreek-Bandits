<!DOCTYPE html>
<html lang="da">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Branchcreek Bandits</title>

<!-- Tailwind + Fonts + Icons -->
<script src="https://cdn.tailwindcss.com"></script>
<link href="https://fonts.cdnfonts.com/css/western" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>

<style>
.nav-link { color: white; }
.nav-link:hover { color: #d4a017; }
h1,h2,h3,h4,h5,h6 { font-family: 'Western', sans-serif; }
.western-text { font-family: 'Western', sans-serif; }
.btn-gold { background-color: #d4a017; transition: all 0.3s ease; }
.btn-gold:hover { background-color: #b78a14; transform: translateY(-2px); }
.forum-post:hover { box-shadow: 0 4px 6px rgba(0,0,0,0.1); transform: translateY(-2px); }
.slide { position: absolute; inset: 0; transition: opacity 1s ease-in-out; }
input, button { border-radius: 0 !important; }
</style>

<style>
  .aspect-\[16\/6\] { position: relative; padding-bottom: calc(100% / (16 / 6)); }
  .aspect-\[16\/5\] { position: relative; padding-bottom: calc(100% / (16 / 5)); }
  .aspect-\[16\/4\] { position: relative; padding-bottom: calc(100% / (16 / 4)); }
</style>

</head>

<body class="bg-gray-100 font-sans flex flex-col min-h-screen">

<!-- Dynamic Navbar -->
<div id="navbar"></div>

<!-- Slideshow -->
<section id="slideshow-section" class="relative w-full overflow-hidden cursor-pointer">
  <!-- Clickable link covering entire slideshow -->
  <a href="gallery.html" class="absolute inset-0 z-20" aria-label="G√• til Galleri"></a>

  <div id="slideshow-container" class="relative">
    <div class="absolute inset-0 transition-opacity duration-1000 opacity-100 slide">
      <img src="gallari/BB4.jpg" class="w-full h-full object-cover object-center" alt="Slide 1">
    </div>
    <div class="absolute inset-0 transition-opacity duration-1000 opacity-0 slide">
      <img src="gallari/BB1.jpg" class="w-full h-full object-cover object-center" alt="Slide 2">
    </div>
    <div class="absolute inset-0 transition-opacity duration-1000 opacity-0 slide">
      <img src="gallari/BB2.jpg" class="w-full h-full object-cover object-center" alt="Slide 3">
    </div>
    <div class="absolute inset-0 transition-opacity duration-1000 opacity-0 slide">
      <img src="gallari/BB3.jpg" class="w-full h-full object-cover object-center" alt="Slide 4">
    </div>
  </div>
</section>


<!-- Welcome Section -->
<section id="welcome-section" class="bg-gray-800 text-white py-16">
  <div class="container mx-auto px-6 text-center">
    <h1 class="text-4xl md:text-5xl font-bold mb-6 western-text">
      Velkommen til Branchcreek Bandits!
    </h1>
    <p class="text-xl mb-8">Denne hjemmeside er stadig under konstruktion</p>
    <a href="about.html" class="btn-gold text-black font-bold px-6 py-3">L√¶s mere</a>
  </div>
</section>

<script>
  function getViewportHeight() {
    return (window.visualViewport && window.visualViewport.height) || window.innerHeight;
  }

  function adjustSlideshowHeight() {
    const slideshow = document.getElementById('slideshow-container');
    const welcome   = document.getElementById('welcome-section');
    const navbar    = document.getElementById('navbar'); // your dynamic nav container

    if (!slideshow || !welcome) return;

    const vh   = getViewportHeight();
    const navH = navbar ? navbar.offsetHeight : 0;
    const welH = welcome.offsetHeight;

    // available height for the slideshow so the FULL blue bar fits in view
    const available = Math.max(vh - navH - welH, 160); // keep a sane minimum
    slideshow.style.height = available + 'px';
  }

  // Run on load, after images/fonts settle, on resize/orientation, and when welcome size changes.
  window.addEventListener('load', () => {
    // run a few times in the first second in case the navbar is injected late
    let runs = 0;
    const tick = setInterval(() => {
      adjustSlideshowHeight();
      if (++runs > 6) clearInterval(tick);
    }, 150);
  });

  window.addEventListener('resize', adjustSlideshowHeight);
  window.addEventListener('orientationchange', adjustSlideshowHeight);

  // Recalculate if the welcome section changes height (text wraps, responsive fonts, etc.)
  new ResizeObserver(adjustSlideshowHeight).observe(document.getElementById('welcome-section'));
</script>

<style>
  /* prevent default body margin from throwing off the math */
  html, body { margin: 0; }
</style>



<!-- Latest News -->
<section class="py-12">
  <div class="container mx-auto px-6">
    <h2 class="text-3xl font-bold mb-6 western-text">Seneste Nyt</h2>
    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
      <div class="bg-white p-6 forum-post">
        <h3 class="text-xl font-bold mb-2">Nyt Skydest√¶vne</h3>
        <p class="text-gray-700">Vi afholder et stort cowboy action shooting event n√¶ste m√•ned. Kom og v√¶r med!</p>
        <a href="events.html" class="text-blue-600 hover:underline">L√¶s mere ‚Üí</a>
      </div>
      <div class="bg-white p-6 forum-post">
        <h3 class="text-xl font-bold mb-2">Galleri opdateret</h3>
        <p class="text-gray-700">Se de nyeste billeder fra vores sidste event i galleriet.</p>
        <a href="gallery.html" class="text-blue-600 hover:underline">Se billeder ‚Üí</a>
      </div>
      <div class="bg-white p-6 forum-post">
        <h3 class="text-xl font-bold mb-2">Forum √•bent</h3>
        <p class="text-gray-700">Deltag i diskussionerne og del dine oplevelser i vores nye forum.</p>
        <a href="forum.html" class="text-blue-600 hover:underline">G√• til forum ‚Üí</a>
      </div>
    </div>
  </div>
</section>

<!-- Dynamic Footer -->
<div id="footer"></div>

<!-- includeHTML helper -->
<script>
async function includeHTML(file, elementId, callback) {
  try {
    const res = await fetch(file);
    const html = await res.text();
    const mount = document.getElementById(elementId);
    mount.innerHTML = html;

    // Re-run any inline scripts from nav/footer
    const scripts = mount.querySelectorAll("script");
    for (const oldScript of scripts) {
      const s = document.createElement("script");
      for (const attr of oldScript.attributes) s.setAttribute(attr.name, attr.value);
      if (!oldScript.src) s.textContent = oldScript.textContent;
      document.body.appendChild(s);
    }

    if (window.feather) feather.replace();
    if (callback) callback();
  } catch (err) {
    console.error("includeHTML error:", err);
  }
}
</script>

<!-- Load Navbar + Footer like forum -->
<script>
includeHTML("nav.html", "navbar", () => {
  if (typeof setupAuth === "function") setupAuth();

  const menuBtn=document.getElementById('menu-btn');
  const mobileMenu=document.getElementById('mobile-menu');
  if(menuBtn && mobileMenu) menuBtn.addEventListener('click',()=>mobileMenu.classList.toggle('hidden'));

  const loginBtn=document.getElementById('login-btn');
  const loginDropdown=document.getElementById('login-dropdown');
  if(loginBtn && loginDropdown) loginBtn.addEventListener('click',()=>loginDropdown.classList.toggle('hidden'));

  const mobileLoginBtn=document.getElementById('mobile-login-btn');
  const mobileLoginForm=document.getElementById('mobile-login-form');
  if(mobileLoginBtn && mobileLoginForm) mobileLoginBtn.addEventListener('click',()=>mobileLoginForm.classList.toggle('hidden'));

  // üîî Force refresh of notifications after nav loads
  setTimeout(() => {
    if (typeof window.refreshNotificationsBadge === "function") {
      window.refreshNotificationsBadge();
    }
  }, 1200);
});

includeHTML("footer.html", "footer");
</script>

<!-- Slideshow -->
<script>
const slides = document.querySelectorAll(".slide");
let currentIndex = 0;
function showSlide(i){slides.forEach((s,idx)=>s.style.opacity=idx===i?"1":"0");}
function nextSlide(){currentIndex=(currentIndex+1)%slides.length;showSlide(currentIndex);}
showSlide(0);
setInterval(nextSlide,5000);
</script>

<!-- Shared Scripts -->
<script type="module" src="js/firebase.js"></script>
<script type="module" src="js/auth.js"></script>
<script type="module" src="js/common.js"></script>


</body>
</html>
